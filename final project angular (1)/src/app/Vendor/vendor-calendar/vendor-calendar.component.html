<div class="container">

  <button type="button" class="btn btn-md btn-info btn-lg" data-toggle="modal" data-target="#Modal">Add new Day </button>
<!-- Modal -->
    <div class="modal fade" id="Modal" role="dialog">
      <div class="modal-dialog modal-sm">
      
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Add new Day</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            
          </div>
          <div class="modal-body">
            <div class="content">
                <div class="animated fadeIn">
                    <div class="row">
                     <!-- <app-add-calendar></app-add-calendar> -->
                     <div class=" container">
                      <aside class="profile-nav alt">
                          
                        <form class="list-group list-group-flush">
                                      
                          <div class="form-group">
                            <label class="font-weight-bold">Date</label>
                            <input class="form-control" type="date" [(ngModel)]="newCal.busyDay" name="BusyDay">
                          </div>  

                          <div class="form-group">
                            <label class="font-weight-bold">Description</label>
                            <input class="form-control" type="text" [(ngModel)]="newCal.reason" name="reason">
                            <br>
                          </div> 

                          <div class="form-group">
                            <label class="font-weight-bold">Day Status</label>
                            <br>
                            
                              <select  (change)="changeAdd($event.target.value)" aria-placeholder="--select status--" [(ngModel)]="newCal.status"  name="st" aria-controls="bootstrap-data-table" class="form-control form-control-sm">
                                <option  value=0 >Free</option>
                                <option  value=1 >Busy</option>
                              </select>
                            
                            <br>
                          </div>
                        
              
                        </form>
                             
                  
                      </aside>
                  </div>


                  </div>
                </div>
              </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-info btn-lg" (click)="save()" data-dismiss="modal">Add </button>

            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
        
      </div>
    </div>

                
<div class="col-lg-6 m-4">
  
</div>

<div class="card shadow mb-4">
<div class="card-header py-3">
  <h6 class="m-0 font-weight-bold text-primary">Busy days </h6>
</div>
<div class="card-body">
  <div class="table-responsive">
    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0"  style="text-align: center;" >
       <thead class="thead-light">
    <tr>
      <th scope="col">Date</th>
      <th scope="col">Description</th>
      <th scope="col"> Booking</th>
      <th scope="col">Free</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of calenders" [ngClass]="item.status?'backBusy':'backFree'" >
      <td> {{item.busyDay |date}}</td>
      <td>
       {{item.reason}}
     </td>
     <td >
      <button *ngIf="!item.bookingId" type="button" disabled class="btn btn-warning btn-circle btn-sm"><i class="fa fa-times"></i></button>
       <button *ngIf="item.bookingId" type="button" disabled class="btn btn-info btn-circle btn-sm"><i class="fa fa-check"></i></button>
     </td>
     <td >
      <button *ngIf="item.status" type="button" disabled class="btn btn-warning btn-circle btn-sm"><i class="fa fa-times"></i></button>
       <button *ngIf="!item.status" type="button" disabled class="btn btn-info btn-circle btn-sm"><i class="fa fa-check"></i></button>
     </td>

    <td>
        <button *ngIf="!item.bookingId" type="button" class="btn btn-outline-secondary btn-sm" style="margin-right: 5px;"   data-toggle="modal" data-target="#Modal1" (click)=getCal(item.id) >Change </button>
        <button *ngIf="!item.bookingId" type="button" class="btn btn-outline-secondary btn-sm"  (click)="delete(item.id)">Delete </button>
                       
<!-- Modal -->
          <div class="modal fade" id="Modal1" role="dialog">
            <div class="modal-dialog modal-sm">
            
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title">Edit this day</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                 
                </div>
                <div class="modal-body">
                  <div class="content">
                      <div class="animated fadeIn">
                          <div class="row">
                            <div class=" container">
                              <aside class="profile-nav alt">
                                  
                                    <form class="list-group list-group-flush">
                                      
                                      <div class="form-group">
                                        <label class="font-weight-bold">Date</label>
                                        <input class="form-control" type="date" [(ngModel)]="cal.busyDay" name="BusyDay">
                                      </div>  

                                      <div class="form-group">
                                        <label class="font-weight-bold">Description</label>
                                        <input class="form-control" type="text" [(ngModel)]="cal.reason" name="reason">
                                        <br>
                                      </div> 

                                      <div class="form-group">
                                        <label class="font-weight-bold">Day Status</label>
                                        <br>
                                        
                                          <select  (change)="change($event.target.value)" aria-placeholder="--select status--" [(ngModel)]="cal.status"  name="st" aria-controls="bootstrap-data-table" class="form-control form-control-sm">
                                            <option  value=0 >Free</option>
                                            <option  value=1 >Busy</option>
                                          </select>
                                        
                                        <br>
                                      </div>
                                    
                          
                                    </form>
                                     
                          
                              </aside>
                          </div>
                          

                        </div>
                      </div>
                    </div>
                </div>
                <div class="modal-footer">
                  <button class="btn btn-info btn-lg" (click)="update()" data-dismiss="modal">Update</button>

                  <button type="button" class="btn btn-secondry" data-dismiss="modal">Close</button>
                </div>
              </div>
              
            </div>
          </div>

                      </td>
                      <!-- <td>
                        <button type="button" class="btn btn-md btn-danger"  (click)="delete(item.id)">Delete </button>
                      </td> -->
    </tr>
</tbody>
</table>

 </div>

 </div>

</div>


