
<div class="container mt-2 ">

    <div style="text-align: center;"><h1>Products</h1> </div>
    <br>
    <div class="row">
      <div class="col-6">
        <button  type="button" class="btn btn-warning" data-toggle="modal" data-target="#exampleModal11" data-whatever="@mdo">
          New Product
        </button>
        <!-- //model add -->
  <div class="modal fade" id="exampleModal11" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1" aria-hidden="true" data-backdrop="false">
  <div class="modal-dialog" role="document">
  <div class="modal-content">
  <div class="modal-header">
  <h5 class="modal-title" id="exampleModalLabel1">New Product</h5>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
  </div>
  <div class="modal-body">
  <form>
  
  
    <div class="form-group">
      <label for="message-text" class="col-form-label">Product name:</label>
      <textarea [(ngModel)]="newProduct.product_name" class="form-control" id="title-text" name="title"></textarea>
    </div>
  
    <div class="form-group">
      <label for="message-text" class="col-form-label">Description:</label>
      <textarea [(ngModel)]="newProduct.description" class="form-control" id="description-text" name="description"></textarea>
    </div>
  
    <div class="form-group">
      <!-- <div class="dataTables_length" id="bootstrap-data-table_length"> -->
        <label>
          Choose Type:
        <select  (change)="changeAdd($event.target.value)" [(ngModel)]="newProduct.type_id"  name="Type" aria-controls="bootstrap-data-table" class="form-control form-control-sm">
          <option *ngFor="let type of types" value="{{type.type_id}}">{{type.type_name}}</option>
        </select>
      </label>
      <!-- </div> -->
    </div>
  
    <div class="form-group">
      <label for="message-text" class="col-form-label">Price:</label>
      <input type="number" [(ngModel)]="newProduct.price" class="form-control" id="price-text" name="price">
    </div>
  
    <div class="form-group">
      <label for="message-text" class="col-form-label">Quantity:</label>
      <input type="number" [(ngModel)]="newProduct.quantity" class="form-control" id="quantity" name="quantity">
    </div>
  
    <div class="form-group">
      <label class="control-label col-sm-2" for="Product prod"> Production Date:</label>
      <div class="col-sm-10">
        <input type="date" [(ngModel)]="newProduct.Prod_date" name="z" class="form-control" rows="5" id="prod">
      </div>
      </div>
  
      <div class="form-group">
        <label class="control-label col-sm-2" for="Product prod"> Expiration Date:</label>
        <div class="col-sm-10">
          <input type="date" [(ngModel)]="newProduct.Exp_date" name="x" class="form-control" rows="5" id="exp">
        </div>
        </div>
  </form>
  
        </div>
        <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button id="buttonadd" (click)="Add()" [disabled]=" !newProduct.price || !newProduct.quantity  || !newProduct.description || !newProduct.product_name || !newProduct.Prod_date|| !newProduct.Exp_date ||!newProduct.type_id "  type="button" class="btn btn-primary"  data-dismiss="modal">Add </button> 
        </div>
        </div>
        </div>
        </div> 
      </div>
      <div class="col-6">
        <button  type="button" class="btn btn-warning" data-toggle="modal" data-target="#example" data-whatever="@mdo">
          New Type
        </button>
        <!-- //model add -->
  <div class="modal fade" id="example" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1" aria-hidden="true" data-backdrop="false">
  <div class="modal-dialog" role="document">
  <div class="modal-content">
  <div class="modal-header">
  <h5 class="modal-title" id="exampleModalLabel1">New Type</h5>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
  </div>
  <div class="modal-body">
  <form>
    <div class="form-group">
      <label for="message-text" class="col-form-label">New Type:</label>
      <textarea [(ngModel)]="newType.type_name" class="form-control" id="type-text" name="typee"></textarea>
    </div>
  
    
  </form>
  
        </div>
        <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button id="buttonadd" (click)="AddType()" [disabled]=" !newType.type_name "  type="button" class="btn btn-primary"  data-dismiss="modal">Add </button> 
        </div>
        </div>
        </div>
        </div> 
      </div>
    </div>
    
   
      <hr>
    <br>
     <div class="row ">
        <div class="nev item " *ngFor="let item  of Products| paginate: {id:'listing_pagination',
        itemsPerPage:2,
         currentPage:page,
        totalItems:TotalNumber}">
          <div >
            <div class="card item-card card-block text-center nevine">
            
              <img src="https://i.pinimg.com/564x/bb/f3/0b/bbf30b6df98cadee9c0be3215e13cbf3.jpg" alt="Photo of sunset">
              <h5 class="item-card-title mt-3 mb-3"><span class="text-primary">Product Name : </span>{{item.product_name}}</h5>
              <span  class="d-inline p-2 bg-primary text-white">price : <span>{{item.price}}</span></span>
              <span  class="d-inline p-2 bg-primary text-white">Quantity : <span>{{item.quantity}}</span></span>
              <br>
              <h3>Details</h3>
              
              <p class="card-text text-secondary">{{item.description}}</p>
              <h3>Type :</h3>
              <div *ngFor="let t of types">
                <p *ngIf="item.type_id==t.type_id" class="card-text text-secondary">{{t.type_name}}</p>
              </div>
              
              <hr>
             

                <button  (click)="editOne(item.product_id)" type="button" class="btn btn-warning" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">
                  Edit
                </button>
                <!-- //model add -->
          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1" aria-hidden="true" data-backdrop="false">
          <div class="modal-dialog" role="document">
          <div class="modal-content">
          <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel1">Edit Product</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body">
          <form>
          
          
            <div class="form-group">
              <label for="message-text" class="col-form-label">Product name:</label>
              <textarea [(ngModel)]="editProduct.product_name" class="form-control" id="title" name="title1"></textarea>
            </div>
          
            <div class="form-group">
              <label for="message-text" class="col-form-label">Description:</label>
              <textarea [(ngModel)]="editProduct.description" class="form-control" id="descriptio" name="description1"></textarea>
            </div>

            <div class="dataTables_length" id="bootstrap-data-table_length">
              <label>
              <label>Choose Type:</label>  
              <select  (change)="changeEdit($event.target.value)" [(ngModel)]="editProduct.type_id"  name="Type" aria-controls="bootstrap-data-table" class="form-control form-control-sm">
                <option *ngFor="let type of types" value="{{type.type_id}}">{{type.type_name}}</option>
              </select>
            </label>
            </div>
          
            <div class="form-group">
              <label for="message-text" class="col-form-label">Price:</label>
              <input type="number" [(ngModel)]="editProduct.price" class="form-control" id="price" name="price1">
            </div>
          
            <div class="form-group">
              <label for="message-text" class="col-form-label">Quantity:</label>
              <input type="number" [(ngModel)]="editProduct.quantity" class="form-control" id="quantity1" name="quantity1">
            </div>
          
            <div class="form-group">
              <label class="control-label col-sm-2" for="Product prod"> Production Date:</label>
              <div class="col-sm-10">
                <input type="date" [(ngModel)]="editProduct.Prod_date" name="b" class="form-control" rows="5" id="prod1">
              </div>
              </div>
          
              <div class="form-group">
                <label class="control-label col-sm-2" for="Product prod"> Expiration Date:</label>
                <div class="col-sm-10">
                  <input type="date" [(ngModel)]="editProduct.Exp_date" name="n"  class="form-control" rows="5" id="exp1">
                </div>
                </div>
                <!-- <input type="file" name="file" [(ngModel)]="editProduct.product_image"> -->
          </form>
          
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button id="buttonedit" (click)="Edit()"   type="button" class="btn btn-primary"  data-dismiss="modal">Update </button> 
                </div>
                </div>
                </div>
                </div> 
                <hr>
                <button data-target="#deleteBooking" class="delete" data-toggle="modal"> Delete</button>

                <div id="deleteBooking" class="modal fade">
                  <div class="modal-dialog">
                      <div class="modal-content">
                          <form>
                              <div class="modal-header">
                                  <h4 class="modal-title">Delete Product</h4>
                                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                              </div>
                              <div class="modal-body">
                                  <p>Are you sure you want to delete this product ?</p>
                                  <p class="text-warning"><small>This product ill be removed permanentely.</small></p>
                              </div>
                              <div class="modal-footer">
                                  <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                                  <input type="submit" (click)="Delete(item.product_id)" class="btn btn-danger" value="Delete">
                              </div>
                          </form>
                      </div>
                  </div>
              </div>
              
              <br>
              
              <br>
              <small>Production Date: <span class="text-secondary">{{item.prod_date | date}}</span></small>
              <small>Expiration Date: <span class="text-secondary">{{item.exp_date | date}}</span></small>
  
            </div>
          </div>
             
        </div>
    </div> 
    <hr>
    <div>
      <pagination-controls  id="listing_pagination"
                       (pageChange)="page = $event"
                        
                        maxSize="2"
                        directionLinks="true"
                        autoHide="true"
                        responsive="true"
                        previousLabel="Previous"
                        nextLabel="Next"
                        screenReaderPaginationLabel="Pagination"
                        screenReaderPageLabel="page"
                        screenReaderCurrentLabel="You're on page">
  </pagination-controls>
  </div>
  </div>
  
      